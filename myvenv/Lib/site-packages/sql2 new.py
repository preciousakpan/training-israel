import mysql.connector
from xml.dom import minidom
import os

mydb = mysql.connector.connect(
    host = "localhost",
    port = 3306,
    user = "******",
    password = "******",
    database = "mydatabase"
    )
mycursor = mydb.cursor()

mycursor.execute("CREATE TABLE customers (name VARCHAR(255), address VARCHAR(255))")

sql = "INSERT INTO customers (name, address) VALUES (%s, %s)"
val = ("John", "Highway 21")
mycursor.execute(sql,val)

mydb.commit()


mycursor.execute("SELECT * FROM customers")
myresult = mycursor.fetchone()


root = minidom.Document()
xml = root.createElement('root')
root.appendChild(xml)

for user in range(len(myresult)):
    productChild = root.createElement('product' + str(user))
    productChild.setAttribute('list', myresult[user])
    xml.appendChild(productChild)

xml_str = root.toprettyxml(indent = "\t")

save = "gfg.xml"

with open (save, "w") as f:
    f.write(xml_str)
